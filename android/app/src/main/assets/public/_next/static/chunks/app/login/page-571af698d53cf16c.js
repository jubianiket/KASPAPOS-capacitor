(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9690:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var l=a(95155),c=a(12115),n=a(35695),r=a(66695),t=a(30285),i=a(62523),d=a(85057),u=a(87481),x=a(42099),m=a(6874),o=a.n(m),h=a(15692),j=a(68856);function p(){return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:[(0,l.jsx)(h.A,{}),(0,l.jsxs)(r.Zp,{className:"w-full max-w-sm",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(j.E,{className:"h-8 w-24"}),(0,l.jsx)(j.E,{className:"h-4 w-4/5"})]}),(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(j.E,{className:"h-4 w-20"}),(0,l.jsx)(j.E,{className:"h-10 w-full"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(j.E,{className:"h-4 w-20"}),(0,l.jsx)(j.E,{className:"h-10 w-full"})]})]}),(0,l.jsxs)(r.wL,{className:"flex flex-col gap-4",children:[(0,l.jsx)(j.E,{className:"h-10 w-full"}),(0,l.jsx)(j.E,{className:"h-4 w-3/5"})]})]})]})}function f(){let[e,s]=(0,c.useState)(""),[a,m]=(0,c.useState)(""),[j,f]=(0,c.useState)(!1),[N,w]=(0,c.useState)(!1),g=(0,n.useRouter)(),{toast:v}=(0,u.dj)();(0,c.useEffect)(()=>{w(!0)},[]);let y=async s=>{s.preventDefault(),f(!0);let l=await (0,x.Jv)(e,a);l?(localStorage.setItem("user",JSON.stringify(l)),v({title:"Login Successful",description:"Welcome back, ".concat(l.name,"!")}),g.push("/")):v({variant:"destructive",title:"Login Failed",description:"Invalid credentials. Please check your details and try again."}),f(!1)};return N?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:[(0,l.jsx)(h.A,{}),(0,l.jsxs)(r.Zp,{className:"w-full max-w-sm",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{className:"text-2xl",children:"Login"}),(0,l.jsx)(r.BT,{children:"Enter your details to access your account."})]}),(0,l.jsxs)("form",{onSubmit:y,children:[(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.J,{htmlFor:"identifier",children:"Email, Username, or Phone"}),(0,l.jsx)(i.p,{id:"identifier",name:"identifier",type:"text",autoComplete:"username",placeholder:"Enter your email, username, or phone",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)(d.J,{htmlFor:"password",children:"Password"})}),(0,l.jsx)(i.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",value:a,onChange:e=>m(e.target.value),required:!0})]})]}),(0,l.jsxs)(r.wL,{className:"flex flex-col gap-4",children:[(0,l.jsx)(t.$,{type:"submit",className:"w-full",disabled:j,children:j?"Signing In...":"Sign In"}),(0,l.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["Don't have an account?"," ",(0,l.jsx)(o(),{href:"/signup",className:"underline hover:text-primary",children:"Sign up"})]})]})]})]})]}):(0,l.jsx)(p,{})}},80935:(e,s,a)=>{Promise.resolve().then(a.bind(a,9690))}},e=>{var s=s=>e(e.s=s);e.O(0,[908,874,579,441,684,358],()=>s(80935)),_N_E=e.O()}]);